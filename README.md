# StartPHP v0.7-220901-Beta

欢迎使用 StartPHP v 0.7,本框架采用 MVC 架构模式开发，致力于打造出一款以轻量化、易上手、功能完善的高效 PHP 后端框架。

[框架官网](https://startphp.catcatalpa.com)
[开发文档](https://doc.startphp.catcatalpa.com)
[开源地址](https://github.com/catcatalpa/startphp)
[开源协议](https://github.com/catcatalpa/StartPHP/blob/master/LICENSE)

## 在下载本次更新前，您需要了解以下重要事项：

- StartPHP v0.7 对于 PHP 运行环境要求是 7.3 或以上。
---

## StartPHP v0.7-220901-Beta 更新日志如下

### *[ 系统 ]*

- 新增`Cookie`机制
- 移除原核心文件目录`core`，核心文件调整至`startphp`根目录中
- 完善了`Facade`操作机制
- 完善了`容器`机制
- 重构了`Session`操作机制
- 重构部分系统文件的操作逻辑
- 重构了环境变量机制，将系统环境变量与部分次要配置项分离
- 实现了惰性加载，降低了运行占用消耗
- 部分非必需系统文件将不会在初始化时全部载入
- 修复了部分系统变量命名中的拼写错误
- 统一了文件版权声明格式
- 修复了部分已知Bug

### *[ 视图 & 模板引擎 ]*

- 新增`响应`机制
- 新增了`Html`渲染格式
- 新增了`Json`渲染格式
- 新增了`Jsonp`渲染格式
- 新增自定义模板引擎的功能
- 新增`页面锁定`机制，在锁定后的第一次渲染前，页面内容都无法被更改
- 新增反XSS注入机制
- 视图基类下的`assign`方法可批量赋值
- 视图与模板引擎解耦合
- 重构了模板引擎部分已有操作逻辑
- 完善了模板引擎部分机制
- 修复了无法输出空页面的问题
- 修复了控制器返回的字符串无法被正常输出的bug

### *[ 路由解析 ]*

- 新增`请求`机制
- 新增全局路由规则操作对象
- 引进`路由解析引擎`概念
- 将路由解析引擎与路由处理模块解耦合
- 支持自定义路由解析引擎
- 重构了框架自动加载机制
- 重构了路由别名机制
- 优化了静态资源访问反馈
- 修复了路由别名定义全静态Url时无法被正常解析的Bug
- 修复了无法定义首页路由别名的Bug

### *[ 控制器 ]*

- 控制器方法不存在时系统将优先尝试调用`__call()`方法
- 完善了控制器基类

### *[ 模型 ]*

- 新增`模型`基类
- 通过模型基类可直接调用指定Class的模型文件

### *[ 调试模式 ]*

- 调试模式关闭时报错页面将不会显示错误详情信息
- 调整了部分内容的输出样式
- `CPU信息`一项的输出信息已支持多语言显示
- 新增输出`客户端信息`项信息

### *[ Facade (门面) ]*

- 完善了Facade机制的运行逻辑
- 多个系统机制正式接入Facade，将支持使用Facade格式调用
- 修复了部分因机制错误导致的遗留问题

### *[ 自动加载 & 命名规范 ]*

- 完善了对模型文件Class的解析机制
- 重构了控制器与模型的命名空间命名规范
- `controller`控制器文件的命名规范更新为`顶级空间\...\应用名\controller`
- `model`模型文件的命名规范更新为`顶级空间\...\应用名\model`
- 自动加载将根据类名引入文件，请在命名时将文件中主要类的类名与文件名保持完全一致

## 正在开发/完善：
> 以下更新内容预计将在本版本内上线。
> 
- `中间件`机制
- ORM-分布式数据库操作机制

> 以下内容预计将在后续版本中完善。
> 
- 更加安全的验证机制
- 符合更多`PSR`系列规范
- 自定义插件拓展系统
- 更多待开发功能将伴随此日志的更新不断补充

## 特别感谢

| 项目名 | 作者  | 开源协议 | 开源地址 | 代码用途 | 使用程度 |
|-----|:---:|:----:|:----:|:----:|:----:|


